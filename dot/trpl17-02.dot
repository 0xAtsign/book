digraph {
   dpi = 300.0;
   
   Concurrent [label = "Concurrent";shape = "plaintext";];
   rankdir = "TB";
   splines = false;
   cluster = true;
   
   node [shape = diamond;];
   
   subgraph cluster_task_a {
      label = "Task A";
      
      // makes ordering between subgraphs work
      newrank = true;
      
      A1;
      A2;
      A3;
      A4;
      
      // for vertical alignment purposes only
      A0 [style = invis;];
      
      edge [style = invis;];
   }
   
   subgraph cluster_task_b {
      label = "Task B";
      cluster = true;
      
      // for vertical alignment purposes only
      newrank = true;
      
      B0 [style = invis;];
      
      B1;
      B2;
      B3;
   }
   
   A1 -> B1 -> A2 -> B2 -> A3 -> A4 -> B3;
   
   // Makes the heights line up between the boxes.
   A4 -> A0 [style = invis;];
}